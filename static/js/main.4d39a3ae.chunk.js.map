{"version":3,"sources":["components/Posts/Post/Post.module.css","components/ExactPost/ExactPost.module.css","components/AddPost/AddPost.module.css","components/EditPost/EditPost.module.css","components/Posts/Posts.module.css","components/Timestamp/Timestamp.module.css","assets/images/back.svg","components/ButtonBack/ButtonBack.module.css","components/Header/index.jsx","components/Timestamp/index.jsx","components/Posts/Post/Post.jsx","components/Posts/index.jsx","components/ButtonBack/index.jsx","components/ExactPost/index.jsx","components/AddPost/AddPostForm/AddPostForm.jsx","components/AddPost/index.jsx","components/EditPost/EditPostForm/EditPostForm.jsx","components/EditPost/index.jsx","App.js","index.js"],"names":["module","exports","Header","exactPostTitle","postToEditTitle","titleRef","useRef","className","ref","href","target","Timestamp","timestamp","css","Post","id","title","text","deletePost","textRef","useEffect","current","textContent","length","newText","substr","newTitle","post","to","more","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","d","btn","onClick","Posts","postsElements","posts","map","key","data","console","log","newPost","ButtonBack","btnBack","src","backSvg","alt","ExactPost","postComp","exactBtn","line","AddPostForm","onAddPost","useState","setTitle","setText","addPostForm","htmlFor","value","type","onChange","e","placeholder","time","Date","toLocaleDateString","day","month","year","hour","minute","axios","JSON","stringify","then","res","AddPost","btnb","EditPostForm","initialTitle","initialText","onEditPost","editPostForm","name","EditPost","App","setPosts","exactPost","setExactPost","postToEdit","setPostToEdit","history","useHistory","location","useLocation","get","postId","Number","pathname","split","find","exact","path","newPosts","filter","delete","catch","alert","push","put","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4d39a3ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2bW5D\",\"text\":\"Post_text__1df4v\",\"more\":\"Post_more__1Lzf8\",\"btn\":\"Post_btn__3NjFp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postComp\":\"ExactPost_postComp__1X420\",\"post\":\"ExactPost_post__27fRe\",\"text\":\"ExactPost_text__1UXJC\",\"line\":\"ExactPost_line__35XMJ\",\"exactBtn\":\"ExactPost_exactBtn__2bB2Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postComp\":\"AddPost_postComp__3xHIE\",\"addPostForm\":\"AddPost_addPostForm__1R8JZ\",\"btn\":\"AddPost_btn__3zCO9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postComp\":\"EditPost_postComp__2Y9UD\",\"editPostForm\":\"EditPost_editPostForm__16FtT\",\"btnBack\":\"EditPost_btnBack__3Er4T\",\"btn\":\"EditPost_btn__2EMjV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPost\":\"Posts_newPost__2YPks\",\"posts\":\"Posts_posts__1kHD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timestamp\":\"Timestamp_timestamp__3gXgt\"};","module.exports = __webpack_public_path__ + \"static/media/back.2f02a21a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnBack\":\"ButtonBack_btnBack__svNI0\"};","import React, { useRef } from 'react';\r\n\r\nconst Header = ({ exactPostTitle, postToEditTitle }) => {\r\n  const titleRef = useRef(null);\r\n\r\n  return (\r\n    <header className=\"App-header\">\r\n      <h1 ref={titleRef}>{exactPostTitle && exactPostTitle() || postToEditTitle && postToEditTitle() || 'Blog About Space'}</h1>\r\n      <a href=\"https://github.com/DagamiTS\" target=\"_blank\">My GitHub Page</a>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport css from './Timestamp.module.css';\r\n\r\nconst Timestamp = ({ timestamp }) => {\r\n  return (\r\n    <div>\r\n      <p className={css.timestamp}>{timestamp}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timestamp;","import React, { useEffect, useRef } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport Timestamp from '../../Timestamp';\r\n\r\nimport css from './Post.module.css';\r\n\r\nconst Post = ({ id, title, text, deletePost, timestamp }) => {\r\n  const textRef = useRef(null);\r\n  const titleRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const textLength = textRef.current.textContent.length;\r\n    if (textLength > 97) {\r\n      const newText = textRef.current.textContent.substr(0, 97) + '...'\r\n      textRef.current.textContent = newText;\r\n    }\r\n  }, [ textRef ]);\r\n\r\n  useEffect(() => {\r\n    const titleLength = titleRef.current.textContent.length;\r\n    if (titleLength > 35) {\r\n      const newTitle = titleRef.current.textContent.substr(0, 25) + '...'\r\n      titleRef.current.textContent = newTitle;\r\n    }\r\n  }, [ titleRef ]);\r\n\r\n  return (\r\n    <div className={css.post}>\r\n      <h2 ref={titleRef}>{title}</h2>\r\n      <Timestamp timestamp={timestamp} />\r\n      <p ref={textRef} className={css.text}>{text}</p>\r\n      <NavLink to={`/posts/${id}`} className={css.more}>\r\n        read more\r\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrow-right\"\r\n             className=\"svg-inline--fa fa-arrow-right fa-w-14\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\r\n             viewBox=\"0 0 448 512\">\r\n          <path fill=\"currentColor\"\r\n                d=\"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z\"></path>\r\n        </svg>\r\n      </NavLink>\r\n      <ul>\r\n        <li>\r\n          <NavLink to={`/edit/${id}`} className={css.btn}>Edit</NavLink>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => deletePost(id)} className={css.btn}>Delete</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport Post from './Post/Post';\r\n\r\nimport css from './Posts.module.css';\r\n\r\nconst Posts = ({ posts, deletePost }) => {\r\n  let postsElements;\r\n  if (posts) {\r\n    postsElements = posts.map(post => <Post key={post.id}\r\n                                            id={post.id}\r\n                                            timestamp={post.timestamp}\r\n                                            title={post.data.title}\r\n                                            text={post.data.text}\r\n                                            deletePost={deletePost} />);\r\n  }\r\n\r\n  console.log('RENDER POSTS');\r\n\r\n  return (\r\n    <main className={css.posts}>\r\n      <NavLink to=\"/new\" className={css.newPost}>Add new post</NavLink>\r\n      {postsElements}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Posts;","import React from 'react';\r\nimport backSvg from '../../assets/images/back.svg';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport css from './ButtonBack.module.css';\r\n\r\nconst ButtonBack = ({ className }) => {\r\n  return (\r\n    <NavLink to=\"/\" className={`${css.btnBack} ${className}`}>\r\n      <img src={backSvg} alt=\"arrow-left-icon\" />\r\n      Back to blog\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default ButtonBack;","import React from 'react';\r\n\r\nimport Timestamp from '../Timestamp';\r\nimport ButtonBack from '../ButtonBack';\r\n\r\nimport css from './ExactPost.module.css';\r\n\r\nconst ExactPost = ({ post }) => {\r\n  console.log('RENDER EXACT POST');\r\n\r\n  return (\r\n    <main className={css.postComp}>\r\n      <ButtonBack className={css.exactBtn} />\r\n      <div className={css.post}>\r\n        <h2>{post && post.data.title}</h2>\r\n        <Timestamp timestamp={post && post.timestamp} />\r\n        <span className={css.line} />\r\n        <p className={css.text}>{post && post.data.text}</p>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ExactPost;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport css from '../AddPost.module.css';\r\n\r\nconst AddPostForm = ({ onAddPost }) => {\r\n  const [ title, setTitle ] = useState('');\r\n  const [ text, setText ] = useState('');\r\n\r\n  console.log('RENDER ADD POST FORM');\r\n\r\n  const onAdd = () => {\r\n    if (title && text) {\r\n      const time = new Date().toLocaleDateString('ru-RU', {\r\n        day: 'numeric',\r\n        month: 'numeric',\r\n        year: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      });\r\n      axios.post('https://api-for-react-blog.herokuapp.com/api/posts',\r\n        JSON.stringify({\r\n          data: {\r\n            title,\r\n            text\r\n          },\r\n          timestamp: time,\r\n        }))\r\n        .then(res => onAddPost(res.data));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={css.addPostForm}>\r\n      <label htmlFor=\"title\">TITLE</label>\r\n      <div>\r\n        <input value={title} id=\"title\" type=\"text\" onChange={e => setTitle(e.target.value)}\r\n               placeholder=\"Enter post title\" />\r\n      </div>\r\n      <label htmlFor=\"text\">TEXT</label>\r\n      <div>\r\n        <textarea value={text} id=\"text\" onChange={e => setText(e.target.value)} placeholder=\"Enter post text\" />\r\n      </div>\r\n      <button onClick={onAdd} className=\"btn\">Add Post</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPostForm;","import React from 'react';\r\n\r\nimport AddPostForm from './AddPostForm/AddPostForm';\r\nimport ButtonBack from '../ButtonBack';\r\n\r\nimport css from './AddPost.module.css';\r\n\r\nconst AddPost = ({ onAddPost }) => {\r\n\r\n  console.log('RENDER ADD POST');\r\n\r\n  return (\r\n    <main className={css.postComp}>\r\n      <ButtonBack className={css.btnb} />\r\n      <AddPostForm onAddPost={onAddPost} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default AddPost;","import React, { useEffect, useState } from 'react';\r\n\r\nimport css from '../EditPost.module.css';\r\n\r\nconst EditPostForm = ({ id, initialTitle, initialText, onEditPost }) => {\r\n  const [ title, setTitle ] = useState('');\r\n  const [ text, setText ] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (initialTitle && initialText) {\r\n      setTitle(initialTitle);\r\n      setText(initialText);\r\n    }\r\n  }, [ initialTitle, initialText ]);\r\n\r\n  const onReset = () => {\r\n    setTitle(initialTitle);\r\n    setText(initialText);\r\n  };\r\n\r\n  const onEdit = () => {\r\n    if (title && text) {\r\n      onEditPost(id, { title, text });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className={css.editPostForm}>\r\n      <div>\r\n        <label htmlFor=\"\">TITLE</label>\r\n        <div>\r\n          <input name=\"title\" value={title} onChange={e => setTitle(e.target.value)} />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"\">TEXT</label>\r\n        <div>\r\n          <textarea name=\"text\" value={text} onChange={e => setText(e.target.value)} />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={onEdit} className=\"btn\">Edit Post</button>\r\n        <button type=\"reset\" onClick={onReset} className={`btn ${css.btn}`}>Reset</button>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default EditPostForm;","import React from 'react';\r\n\r\nimport EditPostForm from './EditPostForm/EditPostForm';\r\nimport ButtonBack from '../ButtonBack';\r\n\r\nimport css from './EditPost.module.css';\r\n\r\nconst EditPost = ({ post, onEditPost }) => {\r\n  console.log('EDIT POST RENDER');\r\n\r\n  return (\r\n    <main className={css.postComp}>\r\n      <ButtonBack />\r\n      <EditPostForm id={post && post.id} initialTitle={post && post.data.title} initialText={post && post.data.text}\r\n                    onEditPost={onEditPost} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default EditPost;","import React, { useEffect, useState } from 'react';\nimport { Route, useLocation, useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { Posts, Header, ExactPost, AddPost, EditPost } from './components';\n\nimport './App.css';\n\nfunction App() {\n  const [ posts, setPosts ] = useState(null);\n  const [ exactPost, setExactPost ] = useState(null);\n  const [ postToEdit, setPostToEdit ] = useState(null);\n  const history = useHistory();\n  let location = useLocation();\n\n  const exactPostTitle = () => {\n    if (exactPost && exactPost.data.title.length > 20) {\n      return exactPost.data.title.substr(0, 25) + '...';\n    }\n    if (exactPost) {\n      return exactPost.data.title;\n    }\n  };\n  const postToEditTitle = () => {\n    if (postToEdit && postToEdit.data.title.length > 20) {\n      return postToEdit.data.title.substr(0, 25) + '...';\n    }\n    if (exactPost) {\n      return postToEdit.data.title;\n    }\n  };\n\n  useEffect(() => {\n    axios.get('https://api-for-react-blog.herokuapp.com/api/posts')\n      .then(res => setPosts(res.data));\n  }, []);\n\n  useEffect(() => {\n    const postId = Number(location.pathname.split('posts/')[1]);\n    if (posts) {\n      const post = posts.find(post => post.id === postId);\n      setExactPost(post);\n    }\n  }, [ location.pathname, posts ]);\n\n  useEffect(() => {\n    const postId = Number(location.pathname.split('edit/')[1]);\n    if (posts) {\n      const post = posts.find(post => post.id === postId);\n      setPostToEdit(post);\n    }\n  }, [ location.pathname, posts ]);\n\n  const onAddPost = (newPost) => {\n    const newPosts = [ newPost, ...posts ];\n    setPosts(newPosts);\n    history.push('/');\n  };\n\n  const onEditPost = (postId, data) => {\n    const newPosts = posts.map(post => {\n      if (post.id === postId) {\n        post.data = data;\n      }\n      return post;\n    });\n    setPosts(newPosts);\n    history.push('/');\n    axios.put(`https://api-for-react-blog.herokuapp.com/api/posts/${postId}`, JSON.stringify(data))\n      .catch(() => alert('Не удалось обновить задачу'));\n  };\n\n  const deletePost = (postId) => {\n    const newPosts = posts.filter(post => post.id !== postId);\n    setPosts(newPosts);\n    axios.delete(`https://api-for-react-blog.herokuapp.com/api/posts/${postId}`)\n      .catch(() => alert('Не удалось удалить задачу'));\n  };\n\n  return (\n    <div className=\"App\">\n      <Header exactPostTitle={exactPostTitle} postToEditTitle={postToEditTitle} />\n      <Route exact path=\"/\">\n        <Posts posts={posts} deletePost={deletePost} />\n      </Route>\n      <Route path=\"/posts/:id\">\n        <ExactPost post={exactPost} />\n      </Route>\n      <Route path=\"/new\">\n        <AddPost onAddPost={onAddPost} />\n      </Route>\n      <Route path=\"/edit/:id\">\n        <EditPost post={postToEdit} onEditPost={onEditPost} />\n      </Route>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}